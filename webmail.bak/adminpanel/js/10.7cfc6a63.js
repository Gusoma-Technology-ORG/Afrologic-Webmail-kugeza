(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"96ec":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[s("q-card",{staticStyle:{"min-width":"300px"}},[s("q-card-section",{staticClass:"q-pb-none"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}],staticClass:"text-h6"},[e._v(e._s(e.title))])]),s("q-card-section",[s("span",[e._v(e._s(e.message))])]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_OK")},on:{click:e.proceed}}),s("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"secondary",label:e.$t("COREWEBCLIENT.ACTION_CANCEL")},on:{click:e.cancel}})],1)],1)],1)},a=[],i=s("c973"),n=s.n(i),l=(s("96cf"),s("2ef0")),o=s.n(l),c=s("6bfe"),m={name:"ConfirmDialog",data:function(){return{title:"",message:"",confirm:!1,okHandler:null}},methods:{openDialog:function(){var e=n()(regeneratorRuntime.mark((function e(t){var s,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.title,r=t.message,a=t.okHandler,c["a"].isNonEmptyString(r)&&(this.title=s,this.message=r,this.confirm=!0,this.okHandler=a);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),proceed:function(){o.a.isFunction(this.okHandler)&&this.okHandler(),this.confirm=!1},cancel:function(){this.confirm=!1}}},d=m,p=s("2877"),v=s("24e8"),h=s("f09f"),E=s("a370"),u=s("4b7e"),A=s("9c40"),S=s("eebe"),I=s.n(S),L=Object(p["a"])(d,r,a,!1,null,"71c74599",null);t["a"]=L.exports;I()(L,"components",{QDialog:v["a"],QCard:h["a"],QCardSection:E["a"],QCardActions:u["a"],QBtn:A["a"]})},aa1f:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"full-height full-width"},[s("q-scroll-area",{staticClass:"full-height full-width"},[s("div",{staticClass:"q-pa-lg "},[s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.HEADING_SERVERS_SETTINGS",expression:"'MAILWEBCLIENT.HEADING_SERVERS_SETTINGS'"}],staticClass:"col text-h5"}),e.createMode?e._e():s("div",{staticClass:"col text-right"},[s("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("MAILWEBCLIENT.ACTION_ADD_NEW_SERVER")},on:{click:e.addNewServer}})],1)]),e.createMode?e._e():s("div",{staticClass:"relative-position"},[e.servers.length>0?s("q-list",{staticClass:"rounded-borders q-mb-md",staticStyle:{overflow:"hidden"},attrs:{dense:"",bordered:"",separator:""}},e._l(e.servers,(function(t){return s("q-item",{key:t.id,class:e.currentServerId===t.id?"bg-grey-4":"bg-white",attrs:{clickable:""},on:{click:function(s){return e.route(t.id)}}},[s("q-item-section",[s("q-item-label",[e._v("\n                "+e._s(t.name)+"\n                "),t.tenantName?s("span",{staticClass:"text-grey-6"},[e._v(e._s(e.$t("MAILWEBCLIENT.LABEL_HINT_SERVERS_TENANTNAME",{TENANTNAME:t.tenantName})))]):e._e()])],1),s("q-item-section",{attrs:{side:""}},[s("q-btn",{staticClass:"no-hover",attrs:{dense:"",flat:"","no-caps":"",color:"negative",label:e.$t("COREWEBCLIENT.ACTION_DELETE")},nativeOn:{click:function(s){return s.stopPropagation(),e.askDeleteServer(t.name,t.id,t.tenantId)}}})],1)],1)})),1):e._e(),e.showSearch||e.showPagination?s("div",{staticClass:"flex flex-left q-mb-lg"},[e.showSearch?s("q-input",{attrs:{rounded:"",outlined:"",dense:"","bg-color":"white"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.route(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-btn",{attrs:{dense:"",flat:"",ripple:!1,icon:"search"},on:{click:e.route}})]},proxy:!0}],null,!1,2860817800),model:{value:e.enteredSearch,callback:function(t){e.enteredSearch=t},expression:"enteredSearch"}}):e._e(),e.showPagination?s("q-pagination",{attrs:{flat:"","active-color":"primary",color:"grey-6",max:e.pagesCount},model:{value:e.selectedPage,callback:function(t){e.selectedPage=t},expression:"selectedPage"}}):e._e()],1):e._e(),0===e.servers.length&&e.loadingServers?s("div",{staticStyle:{height:"150px"}}):e._e(),0!==e.servers.length||e.loadingServers||""!==e.search?e._e():s("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[s("q-card-section",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.INFO_NO_SERVERS",expression:"'MAILWEBCLIENT.INFO_NO_SERVERS'"}],staticClass:"text-caption"})],1),0!==e.servers.length||e.loadingServers||""===e.search?e._e():s("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[s("q-card-section",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.INFO_NO_SERVERS_FOUND",expression:"'MAILWEBCLIENT.INFO_NO_SERVERS_FOUND'"}],staticClass:"text-caption"})],1)],1),e.showServerFields||e.createMode?s("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[s("q-card-section",[e.createMode&&e.tenantOptions.length>1?s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_TENANT",expression:"'MAILWEBCLIENT.LABEL_TENANT'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),s("div",{staticClass:"col-5"},[s("q-select",{attrs:{outlined:"",dense:"","bg-color":"white","emit-value":"","map-options":"",options:e.tenantOptions},model:{value:e.selectedTenantId,callback:function(t){e.selectedTenantId=t},expression:"selectedTenantId"}})],1)]):e._e(),s("div",{staticClass:"row"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_DISPLAY_NAME",expression:"'MAILWEBCLIENT.LABEL_DISPLAY_NAME'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),s("div",{staticClass:"col-5"},[s("q-input",{ref:"serverName",attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.serverName,callback:function(t){e.serverName=t},expression:"serverName"}})],1)]),s("div",{staticClass:"row q-mt-sm q-mb-lg"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-9"},[s("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_HINT_DISPLAY_NAME",expression:"'MAILWEBCLIENT.LABEL_HINT_DISPLAY_NAME'"}],attrs:{caption:""}})],1)]),e.allowEditDomainsInServer||!e.createMode?s("div",{staticClass:"row"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_DOMAINS",expression:"'MAILWEBCLIENT.LABEL_DOMAINS'"}],staticClass:"col-2"}),s("div",{staticClass:"col-3 textarea"},[s("q-input",{ref:"domains",attrs:{outlined:"",dense:"","bg-color":"white",type:"textarea",rows:"2",disable:!e.allowEditDomainsInServer},model:{value:e.domains,callback:function(t){e.domains=t},expression:"domains"}})],1)]):e._e(),e.allowEditDomainsInServer||!e.createMode?s("div",{staticClass:"row q-mt-sm q-mb-lg"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-9"},[e.allowEditDomainsInServer?s("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_HINT_DOMAINS",expression:"'MAILWEBCLIENT.LABEL_HINT_DOMAINS'"}],attrs:{caption:""}}):e._e(),e.allowEditDomainsInServer?s("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_HINT_DOMAINS_WILDCARD",expression:"'MAILWEBCLIENT.LABEL_HINT_DOMAINS_WILDCARD'"}],staticClass:"text-weight-bold q-mt-md",attrs:{caption:""}}):e._e(),e.allowEditDomainsInServer?e._e():s("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("MAILWEBCLIENT.LABEL_HINT_DOMAINS_CANNOT_EDIT_HTML"))}})],1)]):e._e(),s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_IMAP_SERVER",expression:"'MAILWEBCLIENT.LABEL_IMAP_SERVER'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),s("div",{staticClass:"col-3"},[s("q-input",{ref:"imapServer",attrs:{outlined:"",dense:"","bg-color":"white"},on:{blur:e.fillUpSmtpServerFromImapServer},model:{value:e.imapServer,callback:function(t){e.imapServer=t},expression:"imapServer"}})],1),s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_PORT",expression:"'MAILWEBCLIENT.LABEL_PORT'"}],staticClass:"col-1 q-my-sm text-right q-pr-md  q-pl-sm required-field"}),s("div",{staticClass:"col-1"},[s("q-input",{ref:"imapPort",attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.imapPort,callback:function(t){e.imapPort=t},expression:"imapPort"}})],1),s("div",{staticClass:"col-1 q-my-sm q-pl-md"},[s("q-checkbox",{attrs:{dense:"",label:"SSL"},model:{value:e.imapSsl,callback:function(t){e.imapSsl=t},expression:"imapSsl"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_SMTP_SERVER",expression:"'MAILWEBCLIENT.LABEL_SMTP_SERVER'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),s("div",{staticClass:"col-3"},[s("q-input",{ref:"smtpServer",attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.smtpServer,callback:function(t){e.smtpServer=t},expression:"smtpServer"}})],1),s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_PORT",expression:"'MAILWEBCLIENT.LABEL_PORT'"}],staticClass:"col-1 q-my-sm text-right q-pr-md q-pl-sm required-field"}),s("div",{staticClass:"col-1"},[s("q-input",{ref:"smtpPort",attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.smtpPort,callback:function(t){e.smtpPort=t},expression:"smtpPort"}})],1),s("div",{staticClass:"col-1 q-my-sm q-pl-md"},[s("q-checkbox",{attrs:{dense:"",label:e.$t("MAILWEBCLIENT.LABEL_SSL")},model:{value:e.smtpSsl,callback:function(t){e.smtpSsl=t},expression:"smtpSsl"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-6"},[s("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_SMTP_AUTHENTICATION",expression:"'MAILWEBCLIENT.LABEL_SMTP_AUTHENTICATION'"}]}),s("q-list",{attrs:{dense:""}},[s("q-item",{attrs:{"manual-focus":""}},[s("q-item-section",{staticClass:"q-pr-none"},[s("span",[s("q-radio",{attrs:{dense:"",val:e.smtpAuthTypeEnum.NoAuthentication,label:e.$t("MAILWEBCLIENT.LABEL_NO_AUTHENTICATION")},model:{value:e.smtpAuthentication,callback:function(t){e.smtpAuthentication=t},expression:"smtpAuthentication"}})],1)])],1),s("q-item",{attrs:{"manual-focus":""}},[s("q-item-section",{attrs:{avatar:""}},[s("span",[s("q-radio",{attrs:{dense:"",val:e.smtpAuthTypeEnum.UseSpecifiedCredentials,label:e.$t("MAILWEBCLIENT.LABEL_USE_SPECIFIED_CREDENTIALS")},model:{value:e.smtpAuthentication,callback:function(t){e.smtpAuthentication=t},expression:"smtpAuthentication"}})],1)]),s("q-item-section",[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",placeholder:e.$t("COREWEBCLIENT.LABEL_LOGIN")},model:{value:e.smtpLogin,callback:function(t){e.smtpLogin=t},expression:"smtpLogin"}})],1),s("q-item-section",[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",type:"password",autocomplete:"new-password",placeholder:e.$t("COREWEBCLIENT.LABEL_PASSWORD")},model:{value:e.smtpPassword,callback:function(t){e.smtpPassword=t},expression:"smtpPassword"}})],1)],1),s("q-item",{attrs:{"manual-focus":""}},[s("q-item-section",[s("span",[s("q-radio",{attrs:{dense:"",val:e.smtpAuthTypeEnum.UseUserCredentials,label:e.$t("MAILWEBCLIENT.LABEL_USE_USER_CREDENTIALS")},model:{value:e.smtpAuthentication,callback:function(t){e.smtpAuthentication=t},expression:"smtpAuthentication"}})],1)])],1)],1)],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-5"},[s("q-checkbox",{attrs:{dense:"",label:e.$t("MAILWEBCLIENT.LABEL_ENABLE_SIEVE")},model:{value:e.enableSieve,callback:function(t){e.enableSieve=t},expression:"enableSieve"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_SIEVE_PORT",expression:"'MAILWEBCLIENT.LABEL_SIEVE_PORT'"}],staticClass:"col-2 q-my-sm"}),s("div",{staticClass:"col-5"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.sievePort,callback:function(t){e.sievePort=t},expression:"sievePort"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-5"},[s("q-checkbox",{attrs:{dense:"",label:e.$t("MAILWEBCLIENT.LABEL_USE_THREADING")},model:{value:e.useThreading,callback:function(t){e.useThreading=t},expression:"useThreading"}})],1)]),s("div",{staticClass:"row q-mb-sm"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-5"},[s("q-checkbox",{attrs:{dense:"",label:e.$t("MAILWEBCLIENT.LABEL_USE_FULL_EMAIL_ADDRESS_AS_LOGIN")},model:{value:e.useFullEmail,callback:function(t){e.useFullEmail=t},expression:"useFullEmail"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-5"},[s("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_HINT_USE_FULL_EMAIL_ADDRESS_AS_LOGIN",expression:"'MAILWEBCLIENT.LABEL_HINT_USE_FULL_EMAIL_ADDRESS_AS_LOGIN'"}],attrs:{caption:""}})],1)])])],1):e._e(),e.showServerFields||e.createMode?s("q-card",{staticClass:"card-edit-settings q-mt-md",attrs:{flat:"",bordered:""}},[s("q-card-section",[s("div",{staticClass:"row q-mb-sm"},[s("div",{staticClass:"col-10"},[s("q-checkbox",{attrs:{dense:"",label:e.$t("MAILWEBCLIENT.LABEL_ADMIN_EXTERNAL_ACCESS_SERVERS")},model:{value:e.setExternalAccessServers,callback:function(t){e.setExternalAccessServers=t},expression:"setExternalAccessServers"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"col-10"},[s("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("MAILWEBCLIENT.LABEL_HINT_ADMIN_EXTERNAL_ACCESS_SERVERS"))}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_IMAP_SERVER",expression:"'MAILWEBCLIENT.LABEL_IMAP_SERVER'"}],staticClass:"col-2 q-my-sm",class:e.setExternalAccessServers?"":"disabled"}),s("div",{staticClass:"col-3"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:!e.setExternalAccessServers},model:{value:e.externalAccessImapServer,callback:function(t){e.externalAccessImapServer=t},expression:"externalAccessImapServer"}})],1),s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_PORT",expression:"'MAILWEBCLIENT.LABEL_PORT'"}],staticClass:"col-1 q-my-sm text-right q-pr-md",class:e.setExternalAccessServers?"":"disabled"}),s("div",{staticClass:"col-1"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:!e.setExternalAccessServers},model:{value:e.externalAccessImapPort,callback:function(t){e.externalAccessImapPort=t},expression:"externalAccessImapPort"}})],1),s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_ALTERNATIVE_PORT",expression:"'MAILWEBCLIENT.LABEL_ALTERNATIVE_PORT'"}],staticClass:"col-1 q-my-sm text-right q-pr-md",class:e.setExternalAccessServers?"":"disabled"}),s("div",{staticClass:"col-1"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:!e.setExternalAccessServers},model:{value:e.externalAccessImapAlterPortModel,callback:function(t){e.externalAccessImapAlterPortModel=t},expression:"externalAccessImapAlterPortModel"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_POP3_SERVER",expression:"'MAILWEBCLIENT.LABEL_POP3_SERVER'"}],staticClass:"col-2 q-my-sm",class:e.setExternalAccessServers?"":"disabled"}),s("div",{staticClass:"col-3"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:!e.setExternalAccessServers},model:{value:e.externalAccessPop3Server,callback:function(t){e.externalAccessPop3Server=t},expression:"externalAccessPop3Server"}})],1),s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_PORT",expression:"'MAILWEBCLIENT.LABEL_PORT'"}],staticClass:"col-1 q-my-sm text-right q-pr-md",class:e.setExternalAccessServers?"":"disabled"}),s("div",{staticClass:"col-1"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:!e.setExternalAccessServers},model:{value:e.externalAccessPop3Port,callback:function(t){e.externalAccessPop3Port=t},expression:"externalAccessPop3Port"}})],1),s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_ALTERNATIVE_PORT",expression:"'MAILWEBCLIENT.LABEL_ALTERNATIVE_PORT'"}],staticClass:"col-1 q-my-sm text-right q-pr-md",class:e.setExternalAccessServers?"":"disabled"}),s("div",{staticClass:"col-1"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:!e.setExternalAccessServers},model:{value:e.externalAccessPop3AlterPortModel,callback:function(t){e.externalAccessPop3AlterPortModel=t},expression:"externalAccessPop3AlterPortModel"}})],1)]),s("div",{staticClass:"row"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_SMTP_SERVER",expression:"'MAILWEBCLIENT.LABEL_SMTP_SERVER'"}],staticClass:"col-2 q-my-sm",class:e.setExternalAccessServers?"":"disabled"}),s("div",{staticClass:"col-3"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:!e.setExternalAccessServers},model:{value:e.externalAccessSmtpServer,callback:function(t){e.externalAccessSmtpServer=t},expression:"externalAccessSmtpServer"}})],1),s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_PORT",expression:"'MAILWEBCLIENT.LABEL_PORT'"}],staticClass:"col-1 q-my-sm text-right q-pr-md",class:e.setExternalAccessServers?"":"disabled"}),s("div",{staticClass:"col-1"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:!e.setExternalAccessServers},model:{value:e.externalAccessSmtpPort,callback:function(t){e.externalAccessSmtpPort=t},expression:"externalAccessSmtpPort"}})],1),s("div",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.LABEL_ALTERNATIVE_PORT",expression:"'MAILWEBCLIENT.LABEL_ALTERNATIVE_PORT'"}],staticClass:"col-1 q-my-sm text-right q-pr-md",class:e.setExternalAccessServers?"":"disabled"}),s("div",{staticClass:"col-1"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:!e.setExternalAccessServers},model:{value:e.externalAccessSmtpAlterPortModel,callback:function(t){e.externalAccessSmtpAlterPortModel=t},expression:"externalAccessSmtpAlterPortModel"}})],1)])])],1):e._e(),e.oauthConnectorsData.length>0&&(e.showServerFields||e.createMode)?s("q-card",{staticClass:"card-edit-settings q-mt-md",attrs:{flat:"",bordered:""}},[s("q-card-section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"MAILWEBCLIENT.INFO_ADMIN_OAUTH",expression:"'MAILWEBCLIENT.INFO_ADMIN_OAUTH'"}]}),s("q-list",{attrs:{dense:""}},e._l(e.oauthConnectorsData,(function(t){return s("q-item",{key:t.type,attrs:{"manual-focus":""}},[s("q-item-section",{staticClass:"q-pr-none"},[s("span",[s("q-radio",{attrs:{dense:"",val:t.type,label:t.name},model:{value:e.oauthConnector,callback:function(t){e.oauthConnector=t},expression:"oauthConnector"}})],1)])],1)})),1)],1)])])],1):e._e(),e.showServerFields||e.createMode?s("div",{staticClass:"q-pt-md text-right"},[e.createMode?e._e():s("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.save}}),e.createMode?s("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_CREATE")},on:{click:e.create}}):e._e(),e.createMode?s("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"secondary",label:e.$t("COREWEBCLIENT.ACTION_CANCEL")},on:{click:e.cancelCreate}}):e._e()],1):e._e()],1),s("ConfirmDialog",{ref:"confirmDialog"})],1),s("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.loadingServers||e.saving||e.creating}},[s("q-linear-progress",{attrs:{query:""}})],1)],1)},a=[],i=(s("21db"),s("4d9a"),s("21de"),s("f108"),s("90ee"),s("b771"),s("fb17"),s("b2f5")),n=s.n(i),l=s("4245"),o=s("21ac"),c=s("6bfe"),m=s("e539"),d=s("635f"),p=(s("3119"),s("8da0"),s("6797"),s("9863")),v={getServers:function(e,t,s){return new Promise((function(r,a){m["a"].sendRequest({moduleName:"Mail",methodName:"GetServers",parameters:{Search:e,Offset:s*(t-1),Limit:s}}).then((function(a){if(n.a.isArray(null===a||void 0===a?void 0:a.Items)){var i=n.a.map(a.Items,(function(e){return new p["a"](e)})),l=c["a"].pInt(a.Count);r({servers:i,totalCount:l,search:e,page:t,limit:s})}else r({servers:[],totalCount:0,search:e,page:t,limit:s})}),(function(a){o["a"].showError(l["a"].getTextFromResponse(a)),r({servers:[],totalCount:0,search:e,page:t,limit:s})}))}))}},h=s("96ec"),E={name:"MailAdminSettings",components:{ConfirmDialog:h["a"]},data:function(){return{smtpAuthTypeEnum:d["a"].getSmtpAuthTypeEnum(),allowEditDomainsInServer:d["a"].getAllowEditDomainsInServer(),page:1,search:"",limit:10,servers:[],totalCount:0,loadingServers:!1,showSearch:!1,enteredSearch:"",selectedPage:1,currentServerId:0,currentServerTenantId:0,createMode:!1,showServerFields:!1,selectedTenantId:0,tenantOptions:[],serverName:"",domains:"",imapServer:"",imapPort:0,imapSsl:!1,smtpServer:"",smtpPort:0,smtpSsl:!1,smtpAuthentication:"0",smtpLogin:"",smtpPassword:"",enableSieve:!1,sievePort:0,useThreading:!1,useFullEmail:!1,setExternalAccessServers:!1,externalAccessImapServer:"",externalAccessImapPort:143,externalAccessImapAlterPort:"",externalAccessPop3Server:"",externalAccessPop3Port:110,externalAccessPop3AlterPort:"",externalAccessSmtpServer:"",externalAccessSmtpPort:25,externalAccessSmtpAlterPort:"",oauthConnectorsData:[],oauthConnector:"",saving:!1,creating:!1}},computed:{showPagination:function(){return this.servers.length<this.totalCount},pagesCount:function(){return Math.ceil(this.totalCount/this.limit)},externalAccessImapAlterPortModel:{get:function(){return 0===this.externalAccessImapAlterPort?"":this.externalAccessImapAlterPort},set:function(e){this.externalAccessImapAlterPort=e}},externalAccessPop3AlterPortModel:{get:function(){return 0===this.externalAccessPop3AlterPort?"":this.externalAccessPop3AlterPort},set:function(e){this.externalAccessPop3AlterPort=e}},externalAccessSmtpAlterPortModel:{get:function(){return 0===this.externalAccessSmtpAlterPort?"":this.externalAccessSmtpAlterPort},set:function(e){this.externalAccessSmtpAlterPort=e}}},watch:{$route:function(e,t){if("/system/mail-servers/create"===this.$route.path)this.createMode=!0,this.showServerFields=!1,this.populateServer();else{var s,r,a,i,n,l;this.createMode=!1;var o=c["a"].pString(null===(s=this.$route)||void 0===s||null===(r=s.params)||void 0===r?void 0:r.search),m=c["a"].pPositiveInt(null===(a=this.$route)||void 0===a||null===(i=a.params)||void 0===i?void 0:i.page);this.search===o&&this.page===m||(this.search=o,this.enteredSearch=o,this.page=m,this.selectedPage=m,this.populate());var d=c["a"].pNonNegativeInt(null===(n=this.$route)||void 0===n||null===(l=n.params)||void 0===l?void 0:l.id);this.currentServerId!==d&&(this.currentServerId=d,this.populateServer())}},selectedPage:function(){this.selectedPage!==this.page&&this.route()},imapSsl:function(){this.imapSsl&&143===this.imapPort&&(this.imapPort=993),this.imapSsl||993!==this.imapPort||(this.imapPort=143)},smtpSsl:function(){this.smtpSsl&&25===this.smtpPort&&(this.smtpPort=465),this.smtpSsl||465!==this.smtpPort||(this.smtpPort=25)},imapServer:function(e){this.setExternalAccessServers||(this.externalAccessImapServer=e)},imapPort:function(e){this.setExternalAccessServers||(this.externalAccessImapPort=e)},smtpServer:function(e){this.setExternalAccessServers||(this.externalAccessSmtpServer=e)},smtpPort:function(e){this.setExternalAccessServers||(this.externalAccessSmtpPort=e)},setExternalAccessServers:function(){this.setExternalAccessServers||(this.externalAccessImapServer=this.imapServer,this.externalAccessImapPort=this.imapPort,this.externalAccessSmtpServer=this.smtpServer,this.externalAccessSmtpPort=this.smtpPort)}},beforeRouteLeave:function(e,t,s){this.doBeforeRouteLeave(e,t,s)},beforeRouteUpdate:function(e,t,s){this.doBeforeRouteLeave(e,t,s)},mounted:function(){this.saving=!1,this.creating=!1,this.populate();var e=this.$store.getters["tenants/getTenants"],t=[{label:"system-wide",value:0}];e.length>1&&e.forEach((function(e){t.push({label:e.name,value:e.id})})),this.tenantOptions=t,this.populateOauthConnectorsData()},methods:{route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=""!==this.enteredSearch?"/search/"+this.enteredSearch:"",s=this.search!==this.enteredSearch?1:this.selectedPage,r=s>1?"/page/"+s:"",a=e>0?"/id/"+e:"",i="/system/mail-servers"+t+r+a;i!==this.$route.path&&this.$router.push(i)},populateOauthConnectorsData:function(){var e={oauthConnectorsData:[]};this.$eventBus.$emit("MailWebclient::GetOauthConnectorsData",e),this.oauthConnectorsData=n.a.isArray(e.oauthConnectorsData)?e.oauthConnectorsData.filter((function(e){return c["a"].isNonEmptyString(e.name)&&c["a"].isNonEmptyString(e.type)})):[],this.oauthConnectorsData.length>0&&this.oauthConnectorsData.unshift({name:this.$t("MAILWEBCLIENT.LABEL_ADMIN_OAUTH_NOTHING_SELECTED"),type:""})},populate:function(){var e=this;this.loadingServers=!0,v.getServers(this.search,this.page,this.limit).then((function(t){var s=t.servers,r=t.totalCount,a=t.page,i=t.search;a===e.page&&i===e.search&&(e.servers=s,e.totalCount=r,""===e.search&&(e.showSearch=r>e.limit),e.loadingServers=!1,0!==e.currentServerId&&e.populateServer())}))},populateServer:function(){var e=this;if(this.createMode)this.currentServerId=0,this.selectedTenantId=this.tenantOptions.length>1?this.tenantOptions[1].value:0,this.serverName="",this.domains="",this.imapServer="",this.imapPort=143,this.imapSsl=!1,this.smtpServer="",this.smtpPort=25,this.smtpSsl=!1,this.smtpAuthentication=this.smtpAuthTypeEnum.UseUserCredentials,this.smtpLogin="",this.smtpPassword="",this.enableSieve=!1,this.sievePort=4190,this.useThreading=!0,this.useFullEmail=!0,this.setExternalAccessServers=!1,this.externalAccessImapServer="",this.externalAccessImapPort=143,this.externalAccessImapAlterPort="",this.externalAccessPop3Server="",this.externalAccessPop3Port=110,this.externalAccessPop3AlterPort="",this.externalAccessSmtpServer="",this.externalAccessSmtpPort=25,this.externalAccessSmtpAlterPort="",this.oauthConnector="";else{var t=n.a.find(this.servers,(function(t){return t.id===e.currentServerId}));this.showServerFields=!!t,this.showServerFields&&(this.currentServerTenantId=t.tenantId,this.serverName=t.name,this.domains=t.domains,this.imapServer=t.incomingServer,this.imapPort=t.incomingPort,this.imapSsl=t.incomingUseSsl,this.smtpServer=t.outgoingServer,this.smtpPort=t.outgoingPort,this.smtpSsl=t.outgoingUseSsl,this.smtpAuthentication=t.smtpAuthType,this.smtpLogin=t.smtpLogin,this.smtpPassword=t.smtpPassword,this.enableSieve=t.enableSieve,this.sievePort=t.sievePort,this.useThreading=t.enableThreading,this.useFullEmail=t.useFullEmailAddressAsLogin,this.setExternalAccessServers=t.setExternalAccessServers,this.externalAccessImapServer=t.externalAccessImapServer,this.externalAccessImapPort=t.externalAccessImapPort,this.externalAccessImapAlterPort=t.externalAccessImapAlterPort,this.externalAccessPop3Server=t.externalAccessPop3Server,this.externalAccessPop3Port=t.externalAccessPop3Port,this.externalAccessPop3AlterPort=t.externalAccessPop3AlterPort,this.externalAccessSmtpServer=t.externalAccessSmtpServer,this.externalAccessSmtpPort=t.externalAccessSmtpPort,this.externalAccessSmtpAlterPort=t.externalAccessSmtpAlterPort,this.oauthConnector=t.oauthType)}},fillUpSmtpServerFromImapServer:function(){n.a.isEmpty(this.smtpServer)&&(this.smtpServer=this.imapServer)},hasChanges:function(){if(this.createMode){var e=!1!==this.setExternalAccessServers;return!e&&this.setExternalAccessServers&&(e=""!==this.externalAccessImapServer||143!==this.externalAccessImapPort||""!==this.externalAccessImapAlterPort||""!==this.externalAccessPop3Server||110!==this.externalAccessPop3Port||""!==this.externalAccessPop3AlterPort||""!==this.externalAccessSmtpServer||25!==this.externalAccessSmtpPort||""!==this.externalAccessSmtpAlterPort),""!==this.serverName||""!==this.domains||""!==this.imapServer||143!==this.imapPort||!1!==this.imapSsl||""!==this.smtpServer||25!==this.smtpPort||!1!==this.smtpSsl||this.smtpAuthentication!==this.smtpAuthTypeEnum.UseUserCredentials||""!==this.smtpLogin||""!==this.smtpPassword||!1!==this.enableSieve||4190!==this.sievePort||!0!==this.useThreading||!0!==this.useFullEmail||!1!==this.setExternalAccessServers||e||""!==this.oauthConnector}var t=this.getServer(this.currentServerId);if(t){var s=t.setExternalAccessServers!==this.setExternalAccessServers;return!s&&this.setExternalAccessServers&&(s=t.externalAccessImapServer!==this.externalAccessImapServer||t.externalAccessImapPort!==this.externalAccessImapPort||t.externalAccessImapAlterPort!==this.externalAccessImapAlterPort||t.externalAccessPop3Server!==this.externalAccessPop3Server||t.externalAccessPop3Port!==this.externalAccessPop3Port||t.externalAccessPop3AlterPort!==this.externalAccessPop3AlterPort||t.externalAccessSmtpServer!==this.externalAccessSmtpServer||t.externalAccessSmtpPort!==this.externalAccessSmtpPort||t.externalAccessSmtpAlterPort!==this.externalAccessSmtpAlterPort),t.name!==this.serverName||t.incomingServer!==this.imapServer||t.incomingPort!==this.imapPort||t.incomingUseSsl!==this.imapSsl||t.outgoingServer!==this.smtpServer||t.outgoingPort!==this.smtpPort||t.outgoingUseSsl!==this.smtpSsl||t.domains!==this.domains||t.smtpAuthType!==this.smtpAuthentication||t.smtpLogin!==this.smtpLogin||t.smtpPassword!==this.smtpPassword||t.enableSieve!==this.enableSieve||t.sievePort!==this.sievePort||t.enableThreading!==this.useThreading||t.useFullEmailAddressAsLogin!==this.useFullEmail||s||t.oauthType!==this.oauthConnector}return!1},revertChanges:function(){this.populateServer()},getServer:function(e){return this.servers.find((function(t){return t.id===e}))},updateServer:function(e){var t=this.getServer(e.ServerId);t&&t.update(e)},getSaveParameters:function(){var e=this,t={Name:this.serverName,IncomingServer:this.imapServer,IncomingPort:this.imapPort,IncomingUseSsl:this.imapSsl,OutgoingServer:this.smtpServer,OutgoingPort:this.smtpPort,OutgoingUseSsl:this.smtpSsl,Domains:this.domains,SmtpAuthType:this.smtpAuthentication,SmtpLogin:this.smtpLogin,SmtpPassword:this.smtpPassword,EnableSieve:this.enableSieve,SievePort:this.sievePort,EnableThreading:this.useThreading,UseFullEmailAddressAsLogin:this.useFullEmail,SetExternalAccessServers:this.setExternalAccessServers,ExternalAccessImapServer:this.externalAccessImapServer,ExternalAccessImapPort:c["a"].pInt(this.externalAccessImapPort),ExternalAccessImapAlterPort:c["a"].pInt(this.externalAccessImapAlterPort),ExternalAccessPop3Server:this.externalAccessPop3Server,ExternalAccessPop3Port:c["a"].pInt(this.externalAccessPop3Port),ExternalAccessPop3AlterPort:c["a"].pInt(this.externalAccessPop3AlterPort),ExternalAccessSmtpServer:this.externalAccessSmtpServer,ExternalAccessSmtpPort:c["a"].pInt(this.externalAccessSmtpPort),ExternalAccessSmtpAlterPort:c["a"].pInt(this.externalAccessSmtpAlterPort)},s=""!==this.oauthConnector,r=s?this.oauthConnectorsData.find((function(t){return t.type===e.oauthConnector})):null;return r?(t.OAuthEnable=!0,t.OAuthName=r.name,t.OAuthType=r.type,t.OAuthIconUrl=r.iconUrl):(t.OAuthEnable=!1,t.OAuthName="",t.OAuthType="",t.OAuthIconUrl=""),t},isDataValid:function(){var e,t,s="";return n.a.isEmpty(n.a.trim(this.serverName))?s="serverName":n.a.isEmpty(n.a.trim(this.imapServer))?s="imapServer":n.a.isEmpty(n.a.trim(this.imapPort))?s="imapPort":n.a.isEmpty(n.a.trim(this.smtpServer))?s="smtpServer":n.a.isEmpty(n.a.trim(this.smtpPort))&&(s="smtpPort"),!!n.a.isEmpty(s)||(n.a.isFunction(null===(e=this.$refs[s])||void 0===e||null===(t=e.$el)||void 0===t?void 0:t.focus)&&this.$refs[s].$el.focus(),o["a"].showError(this.$t("COREWEBCLIENT.ERROR_REQUIRED_FIELDS_EMPTY")),!1)},save:function(){var e=this;if(!this.saving&&this.isDataValid()){this.saving=!0;var t=n.a.extend(this.getSaveParameters(),{ServerId:this.currentServerId,TenantId:this.currentServerTenantId});m["a"].sendRequest({moduleName:"Mail",methodName:"UpdateServer",parameters:t}).then((function(s){e.saving=!1,!0===s?(e.updateServer(t),e.populateServer(),e.populate(),o["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):o["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(t){e.saving=!1,o["a"].showError(l["a"].getTextFromResponse(t,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},addNewServer:function(){this.$router.push("/system/mail-servers/create")},cancelCreate:function(){this.$router.push("/system/mail-servers")},create:function(){var e=this;if(!this.creating&&this.isDataValid()){this.creating=!0;var t=n.a.extend(this.getSaveParameters(),{TenantId:this.selectedTenantId});m["a"].sendRequest({moduleName:"Mail",methodName:"CreateServer",parameters:t}).then((function(t){e.creating=!1,n.a.isSafeInteger(t)?(e.populateServer(),e.populate(),e.$router.push("/system/mail-servers/id/"+t),o["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):o["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(t){e.creating=!1,o["a"].showError(l["a"].getTextFromResponse(t,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},askDeleteServer:function(e,t,s){var r,a;n.a.isFunction(null===this||void 0===this||null===(r=this.$refs)||void 0===r||null===(a=r.confirmDialog)||void 0===a?void 0:a.openDialog)&&this.$refs.confirmDialog.openDialog({title:e,message:this.$t("MAILWEBCLIENT.CONFIRM_REMOVE_SERVER"),okHandler:this.deleteServer.bind(this,t,s)})},deleteServer:function(e,t){var s=this;this.loadingServers=!0,m["a"].sendRequest({moduleName:"Mail",methodName:"DeleteServer",parameters:{ServerId:e,TenantId:t,DeletionConfirmedByAdmin:!0}}).then((function(e){s.loadingServers=!1,!0===e?s.servers.length>1||1===s.selectedPage?s.populate():(s.selectedPage-=1,s.route()):o["a"].showError(s.$t("MAILWEBCLIENT.ERROR_DELETE_MAIL_SERVER"))}),(function(e){s.loadingServers=!1,o["a"].showError(l["a"].getTextFromResponse(e,s.$t("MAILWEBCLIENT.ERROR_DELETE_MAIL_SERVER")))}))}}},u=E,A=s("2877"),S=s("4983"),I=s("9c40"),L=s("1c1c"),C=s("66e5"),x=s("4074"),P=s("0170"),N=s("27f9"),T=s("3b16"),_=s("f09f"),g=s("a370"),f=s("ddd8"),b=s("8f8e"),q=s("3786"),B=s("74f7"),R=s("6b1d"),M=s("eebe"),w=s.n(M),O=Object(A["a"])(u,r,a,!1,null,"6c013366",null);t["default"]=O.exports;w()(O,"components",{QScrollArea:S["a"],QBtn:I["a"],QList:L["a"],QItem:C["a"],QItemSection:x["a"],QItemLabel:P["a"],QInput:N["a"],QPagination:T["a"],QCard:_["a"],QCardSection:g["a"],QSelect:f["a"],QCheckbox:b["a"],QRadio:q["a"],QInnerLoading:B["a"],QLinearProgress:R["a"]})}}]);