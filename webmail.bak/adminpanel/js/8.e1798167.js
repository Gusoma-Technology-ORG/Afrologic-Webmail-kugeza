(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{b9c2:function(e,t,i){"use strict";i("dd4d")},dd4d:function(e,t,i){},f04c:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-scroll-area",{staticClass:"full-height full-width"},[i("div",{staticClass:"q-pa-lg",staticStyle:{"min-width":"811px"}},[i("div",{staticClass:"row q-mb-md"},[i("div",{directives:[{name:"t",rawName:"v-t",value:"LOGSVIEWERWEBCLIENT.HEADING_SETTINGS_TAB",expression:"'LOGSVIEWERWEBCLIENT.HEADING_SETTINGS_TAB'"}],staticClass:"col text-h5"})]),i("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[i("q-card-section",[i("div",{staticClass:"row q-mb-md"},[i("q-checkbox",{attrs:{dense:""},model:{value:e.enableLogging,callback:function(t){e.enableLogging=t},expression:"enableLogging"}},[i("span",{directives:[{name:"t",rawName:"v-t",value:"LOGSVIEWERWEBCLIENT.LABEL_LOGGING_ENABLE",expression:"'LOGSVIEWERWEBCLIENT.LABEL_LOGGING_ENABLE'"}]})])],1),i("div",{staticClass:"row q-mb-md"},[i("div",{directives:[{name:"t",rawName:"v-t",value:"LOGSVIEWERWEBCLIENT.LABEL_LOGGING_VERBOSITY",expression:"'LOGSVIEWERWEBCLIENT.LABEL_LOGGING_VERBOSITY'"}],staticClass:"col-1 q-my-sm"}),i("div",{staticClass:"col-2 q-ml-xl"},[i("q-select",{attrs:{flat:"",outlined:"",dense:"","bg-color":"white",options:e.verbosityList},model:{value:e.verbosity,callback:function(t){e.verbosity=t},expression:"verbosity"}})],1)]),i("div",{staticClass:"row q-mb-md"},[i("div",[i("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_DOWNLOAD",{SIZE:e.viewLogSizeBytes})},on:{click:function(t){return e.getLogFile(e.logFileName,!1)}}})],1),i("div",{staticClass:"q-ml-md"},[i("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.viewLogText},on:{click:function(t){return e.getLog(!1)}}})],1),i("div",{staticClass:"q-ml-md"},[i("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_CLEAR")},on:{click:function(t){return e.clearLog(!1)}}})],1)]),i("div",{staticClass:"row q-mb-md"},[i("q-checkbox",{attrs:{dense:""},model:{value:e.enableEventLogging,callback:function(t){e.enableEventLogging=t},expression:"enableEventLogging"}},[i("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"LOGSVIEWERWEBCLIENT.LABEL_LOGGING_ENABLE_EVENTS",expression:"'LOGSVIEWERWEBCLIENT.LABEL_LOGGING_ENABLE_EVENTS'"}]})],1)],1),i("div",{staticClass:"row"},[i("div",[i("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_DOWNLOAD_EVENTS",{SIZE:e.viewEventLogSizeBytes})},on:{click:function(t){return e.getLogFile(e.eventLogFileName,!0)}}})],1),i("div",{staticClass:"q-ml-md"},[i("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.viewEventsLogText},on:{click:function(t){return e.getLog(!0)}}})],1),i("div",{staticClass:"q-ml-md"},[i("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_CLEAR")},on:{click:function(t){return e.clearLog(!0)}}})],1)]),e.users.length?i("div",{staticClass:"row q-mt-md q-mb-sm"},[i("div",{staticClass:"col-10"},[i("div",[e._v("\n              "+e._s(e.$t("LOGSVIEWERWEBCLIENT.LABEL_LOGGING_USERS_WITH_SEPARATE_LOG"))+"\n              "),e._l(e.users,(function(t){return i("li",{key:t,staticClass:"q-ml-sm",staticStyle:{"list-style-type":"none"}},[i("span",{staticClass:"logging-user__link",on:{click:function(i){return e.getLogFile(e.logFileName,!1,t)}}},[e._v("\n                  "+e._s(t)+"\n                  "),i("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10]}},[e._v("\n                    "+e._s(e.$t("LOGSVIEWERWEBCLIENT.INFO_LOGGING_CLICK_TO_DOWNLOAD"))+"\n                  ")])],1)])}))],2)])]):e._e(),e.users.length?i("div",{staticClass:"row"},[i("div",[i("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_TURN_OFF_SEPARATE_LOGS")},on:{click:e.turnOffSeparateLogs}})],1),i("div",{staticClass:"q-ml-md"},[i("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_CLEAR_SEPARATE_LOGS")},on:{click:e.clearSeparateLogs}})],1)]):e._e()])],1),i("div",{staticClass:"q-pt-md text-right"},[i("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.save}})],1)],1),i("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.saving}},[i("q-linear-progress",{attrs:{query:""}})],1)],1)},a=[],n=(i("21de"),i("4245")),o=i("21ac"),l=i("2db4"),r=i("e539"),g=i("83d6"),L={name:"LoggingAdminSettings",data:function(){return{verbosity:"",logFileData:{},logSizeBytes:0,eventLogSizeBytes:0,viewLastLogSize:0,viewLogSizeBytes:0,viewEventLogSizeBytes:0,logFileName:"",eventLogFileName:"",enableLogging:!1,enableEventLogging:!1,loggingLevel:100,users:[],timeOut:!1,saving:!1,downloadingLogs:!1,cleaningLogs:!1,viewLogs:!1,turningOffSeparateLogs:!1}},mounted:function(){this.populate(),this.getLogFilesData(),this.getUsersWithSeparateLog()},beforeRouteLeave:function(e,t,i){this.doBeforeRouteLeave(e,t,i)},computed:{verbosityList:function(){return[{value:100,label:this.$t("LOGSVIEWERWEBCLIENT.LABEL_LOGGING_DEBUG")},{value:50,label:this.$t("LOGSVIEWERWEBCLIENT.LABEL_LOGGING_WARNINGS")},{value:20,label:this.$t("LOGSVIEWERWEBCLIENT.LABEL_LOGGING_ERRORS")}]},viewLogText:function(){return this.logSizeBytes<this.viewLastLogSize?this.$t("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_VIEW"):this.$tc("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_VIEW_LAST",l["a"].getFriendlySize(this.viewLastLogSize),{SIZE:l["a"].getFriendlySize(this.viewLastLogSize)})},viewEventsLogText:function(){return this.eventLogSizeBytes<this.viewLastLogSize?this.$t("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_VIEW"):this.$t("LOGSVIEWERWEBCLIENT.BUTTON_LOGGING_VIEW_LAST",l["a"].getFriendlySize(this.viewLastLogSize),{SIZE:l["a"].getFriendlySize(this.viewLastLogSize)})}},beforeDestroy:function(){clearTimeout(this.timeOut)},methods:{hasChanges:function(){var e=g["a"].getLoggingData();return this.enableLogging!==e.enableLogging||this.enableEventLogging!==e.enableEventLogging||this.verbosity.value!==e.loggingLevel},revertChanges:function(){this.populate()},populate:function(){var e=this,t=g["a"].getLoggingData();this.enableLogging=t.enableLogging,this.enableEventLogging=t.enableEventLogging,this.viewLastLogSize=t.viewLastLogSize,this.verbosityList.forEach((function(i){i.value===t.loggingLevel&&(e.verbosity=i)}))},save:function(){var e=this;if(!this.saving){this.saving=!0;var t={EnableLogging:this.enableLogging,EnableEventLogging:this.enableEventLogging,LoggingLevel:this.verbosity.value};r["a"].sendRequest({moduleName:"Core",methodName:"UpdateSettings",parameters:t}).then((function(t){e.saving=!1,t?(g["a"].saveLoggingData({enableLogging:e.enableLogging,enableEventLogging:e.enableEventLogging,loggingLevel:e.verbosity.value}),o["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):o["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(t){e.saving=!1,o["a"].showError(n["a"].getTextFromResponse(t,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},getLogFilesData:function(){var e=this;r["a"].sendRequest({moduleName:"LogsViewerWebclient",methodName:"GetLogFilesData"}).then((function(t){t&&(e.logSizeBytes=t.LogSizeBytes,e.eventLogSizeBytes=t.EventLogSizeBytes,e.viewLogSizeBytes=l["a"].getFriendlySize(t.LogSizeBytes),e.viewEventLogSizeBytes=l["a"].getFriendlySize(t.EventLogSizeBytes),e.logFileName=t.LogFileName,e.eventLogFileName=t.EventLogFileName),e.setUpdateStatusTimer()}))},setUpdateStatusTimer:function(){clearTimeout(this.timeOut),this._isDestroyed||(this.timeOut=setTimeout(this.getLogFilesData,5e3))},getUsersWithSeparateLog:function(){var e=this,t={};r["a"].sendRequest({moduleName:"LogsViewerWebclient",methodName:"GetUsersWithSeparateLog",parameters:t}).then((function(t){t&&(e.users=t)}),(function(e){o["a"].showError(n["a"].getTextFromResponse(e))}))},getLog:function(e){var t=this;if(!this.viewLogs){this.viewLogs=!0;var i={EventsLog:e};r["a"].sendRequest({moduleName:"LogsViewerWebclient",methodName:"GetLog",parameters:i}).then((function(e){if(t.viewLogs=!1,e){var i=window.open("view-log","","scrollbars=1");i.document.write("<pre>"+e+"</pre>")}}),(function(e){t.viewLogs=!1,o["a"].showError(n["a"].getTextFromResponse(e))}))}},getLogFile:function(e,t){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!this.downloadingLogs){this.downloadingLogs=!0;var a={EventsLog:t,PublicId:s};s&&(e=s+"-"+e),r["a"].downloadExportFile({moduleName:"LogsViewerWebclient",methodName:"GetLogFile",parameters:a,fileName:e,format:"Raw"}).then((function(){i.downloadingLogs=!1}))}},clearLog:function(e){var t=this;if(!this.cleaningLogs){this.cleaningLogs=!0;var i={};e&&(i.EventsLog=!0),r["a"].sendRequest({moduleName:"LogsViewerWebclient",methodName:"ClearLog",parameters:i}).then((function(){t.cleaningLogs=!1}),(function(e){t.cleaningLogs=!1,o["a"].showError(n["a"].getTextFromResponse(e))}))}},turnOffSeparateLogs:function(){var e=this;this.turningOffSeparateLogs||(this.turningOffSeparateLogs=!0,r["a"].sendRequest({moduleName:"LogsViewerWebclient",methodName:"TurnOffSeparateLogs"}).then((function(t){!0===t&&e.getUsersWithSeparateLog(),e.turningOffSeparateLogs=!1}),(function(){e.turningOffSeparateLogs=!1})))},clearSeparateLogs:function(){var e=this;this.cleaningLogs||(this.cleaningLogs=!0,r["a"].sendRequest({moduleName:"LogsViewerWebclient",methodName:"ClearSeparateLogs"}).then((function(t){e.cleaningLogs=!1,!0===t?o["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS")):o["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(t){e.cleaningLogs=!1,o["a"].showError(n["a"].getTextFromResponse(t,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))})))}}},E=L,c=(i("b9c2"),i("2877")),v=i("4983"),d=i("f09f"),u=i("a370"),m=i("8f8e"),S=i("ddd8"),N=i("9c40"),p=i("0170"),I=i("05c0"),G=i("74f7"),h=i("6b1d"),T=i("eebe"),O=i.n(T),_=Object(c["a"])(E,s,a,!1,null,"32734b77",null);t["default"]=_.exports;O()(_,"components",{QScrollArea:v["a"],QCard:d["a"],QCardSection:u["a"],QCheckbox:m["a"],QSelect:S["a"],QBtn:N["a"],QItemLabel:p["a"],QTooltip:I["a"],QInnerLoading:G["a"],QLinearProgress:h["a"]})}}]);