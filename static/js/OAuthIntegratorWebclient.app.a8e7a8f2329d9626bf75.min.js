(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"L1+r":function(e,t,r){"use strict";e.exports=function(e){var t=r("F/us"),o=r("EVdn"),s=r("0h2I"),n=r("QaF5"),i=r("o0Bx"),u=r("IAk5"),a=r("WyRv"),c=u.getUserRole()===Enums.UserRole.Anonymous;return a.init(e),c?{start:function(e){a.oauthServices=s.observableArray([]);var t=function(e){if("CLoginView"===e.Name||"CRegisterView"===e.Name){(t=n.getCurrentHashArray()).length>=2&&t[0]===a.RegisterModuleHash&&t[1];e.View.externalAuthClick=function(t){o.cookie("oauth-redirect","CLoginView"===e.Name?"login":"register"),o.cookie("oauth-scopes","auth"),window.location.href="?oauth="+t},e.View.oauthServices=a.oauthServices}var t};i.send(a.ServerModuleName,"GetServices",null,(function(e){a.oauthServices(e.Result)}),this),u.subscribeEvent("StandardLoginFormWebclient::ConstructView::after",t),u.subscribeEvent("StandardRegisterFormWebclient::ConstructView::after",t)}}:u.isUserNormalOrTenant()?{start:function(e){var r=function(){i.send(a.ServerModuleName,"GetAccounts",null,(function(e){var r=0;t.isArray(e.Result)&&t.each(e.Result,(function(e){-1!==e.Scopes.indexOf("auth")&&r++})),a.userAccountsCount(r)}))};u.subscribeEvent("OAuthAccountChange::after",(function(){r()})),r()},getCreateLoginPasswordView:function(){return r("Rmyj")}}:null}},Rmyj:function(e,t,r){"use strict";var o=r("EVdn"),s=r("0h2I"),n=r("RN+F"),i=r("AFLV"),u=r("SQrT"),a=r("IAk5"),c=r("WyRv");function h(){this.visible=s.computed((function(){return c.OnlyPasswordForAccountCreate&&!i.isNonEmptyString(a.firstAccountWithPassLogin())})),this.password=s.observable(""),this.passwordFocus=s.observable(!1),this.confirmPassword=s.observable(""),this.confirmPasswordFocus=s.observable(!1),this.login=s.computed((function(){return a.getUserPublicId()}),this)}h.prototype.ViewTemplate="OAuthIntegratorWebclient_CreateLoginPasswordView",h.prototype.setPassword=function(){var e=o.trim(this.login()),t=o.trim(this.password()),r=o.trim(this.confirmPassword());if(""!==t)return t!==r?(u.showError(n.i18n("COREWEBCLIENT/ERROR_PASSWORDS_DO_NOT_MATCH")),void this.confirmPasswordFocus(!0)):void a.broadcastEvent(c.AuthModuleName+"::CreateUserAuthAccount",{Login:e,Password:t});this.passwordFocus(!0)},e.exports=new h},WyRv:function(e,t,r){"use strict";var o=r("F/us"),s=r("0h2I"),n=r("AFLV"),i=r("IAk5");e.exports={ServerModuleName:"OAuthIntegratorWebclient",HashModuleName:"oauth-integrator",AuthModuleName:"StandardAuth",OnlyPasswordForAccountCreate:!0,userAccountsCount:s.observable(0),Services:[],init:function(e){var t=e.OAuthIntegratorWebclient;o.isEmpty(t)||(this.AuthModuleName=n.pString(t.AuthModuleName,this.AuthModuleName),this.OnlyPasswordForAccountCreate=n.pBool(t.OnlyPasswordForAccountCreate,this.OnlyPasswordForAccountCreate),this.Services=n.pArray(t.Services,this.Services)),i.registerUserAccountsCount(this.userAccountsCount)},updateAdmin:function(e){o.each(this.Services,(function(t){var r=e[t.Name];r&&(t.EnableModule=r.EnableModule,t.Id=r.Id,t.Secret=r.Secret)}))}}}}]);