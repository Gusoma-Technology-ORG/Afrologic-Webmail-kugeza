(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{c21c:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-scroll-area",{staticClass:"full-height full-width"},[a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"GOOGLE.HEADING_SETTINGS",expression:"'GOOGLE.HEADING_SETTINGS'"}],staticClass:"col text-h5"})]),a("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"row q-mb-md"},[a("q-checkbox",{attrs:{dense:""},model:{value:e.enableGoogle,callback:function(t){e.enableGoogle=t},expression:"enableGoogle"}},[a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"GOOGLE.ENABLE_MODULE",expression:"'GOOGLE.ENABLE_MODULE'"}]})],1)],1),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"OAUTHINTEGRATORWEBCLIENT.LABEL_APP_ID",expression:"'OAUTHINTEGRATORWEBCLIENT.LABEL_APP_ID'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.appId,callback:function(t){e.appId=t},expression:"appId"}})],1)]),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"OAUTHINTEGRATORWEBCLIENT.LABEL_APP_SECRET",expression:"'OAUTHINTEGRATORWEBCLIENT.LABEL_APP_SECRET'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.appSecret,callback:function(t){e.appSecret=t},expression:"appSecret"}})],1)]),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"GOOGLE.LABEL_API_KEY",expression:"'GOOGLE.LABEL_API_KEY'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.apiKey,callback:function(t){e.apiKey=t},expression:"apiKey"}})],1)]),a("div",{staticClass:"row"},[a("q-item-label",{attrs:{caption:""}},[a("span",{directives:[{name:"t",rawName:"v-t",value:"GOOGLE.INFO_SETTINGS",expression:"'GOOGLE.INFO_SETTINGS'"}]})])],1),a("div",{staticClass:"row q-my-md"},[a("q-checkbox",{attrs:{dense:""},model:{value:e.auth,callback:function(t){e.auth=t},expression:"auth"}},[a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"GOOGLEAUTHWEBCLIENT.SCOPE_AUTH",expression:"'GOOGLEAUTHWEBCLIENT.SCOPE_AUTH'"}]})],1)],1),a("div",{staticClass:"row"},[a("q-checkbox",{attrs:{dense:""},model:{value:e.storage,callback:function(t){e.storage=t},expression:"storage"}},[a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"GOOGLEDRIVE.SCOPE_FILESTORAGE",expression:"'GOOGLEDRIVE.SCOPE_FILESTORAGE'"}]})],1)],1)])],1),a("div",{staticClass:"q-pt-md text-right"},[a("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.saveGoogleSettings}})],1)],1),a("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.saving}},[a("q-linear-progress",{attrs:{query:""}})],1)],1)},i=[],o=(a("21de"),a("4245")),l=a("21ac"),n=a("e539"),r=a("4088"),c={name:"GoogleAdminSettings",data:function(){return{enableGoogle:!1,auth:!1,storage:!1,saving:!1,appId:"",apiKey:"",appSecret:"",scopes:[]}},mounted:function(){this.populate()},beforeRouteLeave:function(e,t,a){this.doBeforeRouteLeave(e,t,a)},methods:{hasChanges:function(){var e=this,t=r["a"].getGoogleSettings(),a=!1;return this.scopes.forEach((function(t){a||("auth"===t.Name?a=e.auth!==t.Value:"storage"===t.Name&&(a=e.storage!==t.Value))})),this.enableGoogle!==t.enableModule||this.appId!==t.id||this.apiKey!==t.key||a||this.appSecret!==t.secret},revertChanges:function(){this.populate()},populate:function(){var e=this,t=r["a"].getGoogleSettings();this.enableGoogle=t.enableModule,this.appId=t.id,this.apiKey=t.key,this.scopes=t.scopes,this.appSecret=t.secret,this.scopes.forEach((function(t){"auth"===t.Name?e.auth=t.Value:"storage"===t.Name&&(e.storage=t.Value)}))},saveGoogleSettings:function(){this.appId&&this.apiKey&&this.appSecret||!this.enableGoogle?this.save():l["a"].showError(this.$t("MAILWEBCLIENT.ERROR_REQUIRED_FIELDS_EMPTY"))},save:function(){var e=this;if(!this.saving){this.saving=!0,this.scopes.forEach((function(t){"auth"===t.Name?t.Value=e.auth:"storage"===t.Name&&(t.Value=e.storage)}));var t={EnableModule:this.enableGoogle,Id:this.appId,Secret:this.appSecret,Key:this.apiKey,Scopes:this.scopes};n["a"].sendRequest({moduleName:"Google",methodName:"UpdateSettings",parameters:t}).then((function(a){e.saving=!1,!0===a?(r["a"].saveGoogleSettings(t),e.populate(),l["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):l["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(t){e.saving=!1,l["a"].showError(o["a"].getTextFromResponse(t,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}}}},E=c,p=a("2877"),d=a("4983"),u=a("f09f"),h=a("a370"),m=a("8f8e"),v=a("0170"),G=a("27f9"),g=a("9c40"),I=a("74f7"),O=a("6b1d"),L=a("eebe"),T=a.n(L),C=Object(p["a"])(E,s,i,!1,null,"309ca73b",null);t["default"]=C.exports;T()(C,"components",{QScrollArea:d["a"],QCard:u["a"],QCardSection:h["a"],QCheckbox:m["a"],QItemLabel:v["a"],QInput:G["a"],QBtn:g["a"],QInnerLoading:I["a"],QLinearProgress:O["a"]})}}]);